<p>product-inventory works!</p><!-- Header Section -->
<div class="header">
  <h1>Product Inventory Management System</h1>
  <p class="subtitle">Angular 21 Control Flow Demonstration</p>
</div>

<!-- Control Panel -->
<div class="control-panel">
  <button class="btn btn-toggle" (click)="toggleOutOfStock()">
    @if (showOutOfStock) {
      Hide Out of Stock
    } @else {
      Show Out of Stock
    }
  </button>
  
  <button class="btn btn-stats" (click)="toggleStatistics()">
    @if (showStatistics) {
      Hide Statistics
    } @else {
      Show Statistics
    }
  </button>
  
  <input 
    type="text" 
    class="search-input" 
    placeholder="Search products..." 
    [(ngModel)]="searchTerm"
  />
</div>

<!-- Category Filter -->
<div class="category-filter">
  <h3>Filter by Category:</h3>
  <div class="category-buttons">
    @for (category of categories; track $index) {
      <button 
        class="btn btn-category"
        [class.active]="selectedCategory === category"
        (click)="selectCategory(category)"
      >
        {{category}}
      </button>
    }
  </div>
</div>

<!-- Statistics Panel -->
@if (showStatistics) {
  <div class="statistics-panel">
    <h3>Inventory Statistics</h3>
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-label">Total Products</div>
        <div class="stat-value">{{getTotalProducts()}}</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">In Stock</div>
        <div class="stat-value green">{{getInStockCount()}}</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Out of Stock</div>
        <div class="stat-value red">{{getOutOfStockCount()}}</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Total Inventory Value</div>
        <div class="stat-value">₱{{getTotalValue().toLocaleString()}}</div>
      </div>
    </div>
  </div>
}

<!-- Products Table -->
<div class="table-container">
  <table class="product-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Product Name</th>
        <th>Category</th>
        <th>Price</th>
        <th>Stock</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      @for (product of products; track product.id) {
        @if (shouldDisplayProduct(product)) {
          <tr>
            <td>{{product.id}}</td>
            <td>{{product.name}}</td>
            <td>{{product.category}}</td>
            <td>₱{{product.price.toLocaleString()}}</td>
            <td>{{product.stock}}</td>
            <td>
              @if (product.inStock) {
                <span class="badge badge-success">In Stock</span>
              } @else {
                <span class="badge badge-danger">Out of Stock</span>
              }
            </td>
            <td>
              <button 
                class="btn btn-action" 
                (click)="updateStockStatus(product)"
              >
                Toggle Status
              </button>
            </td>
          </tr>
        }
      }
    </tbody>
  </table>
</div>